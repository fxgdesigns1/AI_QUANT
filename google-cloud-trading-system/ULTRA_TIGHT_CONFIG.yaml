# ===============================================
# ULTRA-TIGHT TRADING CONFIGURATION
# WORLD-CLASS RISK MANAGEMENT - Cut Losses Fast
# ===============================================

version: "2.0"
updated: "2025-10-02"

# ACTIVE TRADE MANAGER SETTINGS
trade_manager:
  enabled: true
  monitoring_interval_seconds: 5
  early_close_loss_pct: -0.0015        # -0.15% loss exit
  max_loss_before_force_close: -0.0025 # -0.25% absolute max
  max_loss_hold_time_minutes: 20       # Close losers after 20min
  early_close_profit_pct: 0.001        # +0.10% profit exit
  quick_profit_target: 0.0015          # +0.15% secondary
  trailing_stop_enabled: true
  trailing_stop_trigger_pct: 0.0015    # Start at +0.15%
  trailing_stop_distance_pct: 0.0005   # Trail by 0.05%
  max_hold_time_minutes: 90            # Force close after 90min

# ULTRA STRICT FOREX
strategies:
  ultra_strict_forex:
    enabled: true
    max_trades_per_day: 10
    stop_loss_pct: 0.002               # 0.20% (50% TIGHTER!)
    take_profit_pct: 0.015             # 1.50% (1:7.5 R:R)
    min_signal_strength: 0.90          # 90% minimum
    min_confirmations: 4
    require_pullback: true
    pullback_candles_required: 3
    pullback_depth_min: 0.0003
    london_entry_window:
      start_hour: 7
      end_hour: 9                      # ONLY 07:00-09:00 UTC
    ny_entry_window:
      start_hour: 13
      end_hour: 15                     # ONLY 13:00-15:00 UTC
    require_momentum_alignment: true
    min_momentum_score: 0.75
    min_volatility: 0.00008
    max_spread: 0.5
    require_all_timeframes_aligned: true
    timeframes_to_check: ["5M", "15M", "1H", "4H"]

# GOLD SCALPING
  gold_scalping:
    enabled: true
    max_trades_per_day: 10
    stop_loss_pips: 3                  # 3 pips (SUPER TIGHT!)
    take_profit_pips: 15               # 15 pips (1:5.0 R:R)
    min_signal_strength: 0.90
    min_confirmations: 4
    require_pullback: true
    pullback_to_ema: 21
    min_pullback_pips: 2
    require_breakout: true
    breakout_threshold: 0.004
    breakout_volume_multiplier: 1.8
    min_atr: 2.5
    min_volatility: 0.0001
    max_spread: 0.4
    min_time_between_trades: 60
    prefer_london_ny_overlap: true
    overlap_bonus_score: 0.15

# MOMENTUM TRADING
  momentum_trading:
    enabled: true
    max_trades_per_day: 10
    stop_loss_atr: 0.8                 # 0.8 ATR (33% TIGHTER!)
    take_profit_atr: 5.0               # 5.0 ATR (1:6.25 R:R)
    min_signal_strength: 0.90
    min_confirmations: 4
    min_adx: 30                        # Very strong trends only
    min_momentum_score: 0.50
    min_volume_multiplier: 1.8
    require_trend_continuation: true
    continuation_periods: 5
    continuation_threshold: 0.70
    only_enter_on_pullback: true
    pullback_atr_multiplier: 0.3
    prefer_london_ny_overlap: true
    min_time_between_trades: 45

# NEWS INTEGRATION
news_integration:
  enabled: true
  pause_on_high_impact: true
  high_impact_pause_minutes: 45
  high_impact_keywords:
    - "Fed"
    - "FOMC"
    - "NFP"
    - "CPI"
    - "Inflation"
    - "GDP"
    - "Interest Rate"
    - "Central Bank"
  min_news_sentiment: 0.70
  require_news_alignment: true
  max_news_age_minutes: 30

# RISK MANAGEMENT
risk_management:
  max_total_daily_trades: 30
  max_simultaneous_positions: 10
  max_portfolio_risk: 0.05
  primary:
    max_positions: 3
    daily_trade_limit: 10
    max_risk_per_trade: 0.01
  gold_scalp:
    max_positions: 2
    daily_trade_limit: 10
    max_risk_per_trade: 0.01
  alpha:
    max_positions: 4
    daily_trade_limit: 10
    max_risk_per_trade: 0.015
  max_correlation: 0.60
  check_correlation: true

# QUALITY FILTERS
quality_filters:
  min_quality_score: 0.92
  max_quality_trades_per_strategy: 3
  rank_by: ["confidence", "r_r_ratio", "momentum", "volume"]
  all_timeframes_must_align: true
  timeframes: ["5M", "15M", "1H", "4H", "1D"]
  alignment_threshold: 0.85

# MONITORING
monitoring:
  position_check_interval: 5
  alert_on_loss_threshold: -0.001
  alert_on_profit_threshold: 0.001
  telegram:
    enabled: true
    token: "${TELEGRAM_TOKEN}"
    chat_id: "${TELEGRAM_CHAT_ID}"
    alert_on_entry: true
    alert_on_exit: true
    alert_on_early_close: true
    alert_on_trailing_stop: true
    hourly_summary: true
    daily_summary: true

# PERFORMANCE TARGETS
performance_targets:
  target_win_rate: 0.65
  target_profit_factor: 2.0
  max_acceptable_drawdown: 0.03
  monthly_return_target: 0.05
  max_monthly_loss: -0.02

# EXPECTED IMPROVEMENTS
expected_improvements:
  loss_reduction: "75%"
  avg_loss_size: "0.15%"
  avg_win_size: "0.20%"
  win_rate: "65%"
  profit_factor: "2.5"
